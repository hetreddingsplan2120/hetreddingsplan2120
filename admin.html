<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>
<style>
body {
  font-family: Arial;
  background: #f2f2f2;
  padding: 20px;
}
.box {
  background: white;
  padding: 15px;
  margin-bottom: 20px;
  border-radius: 8px;
}
input, textarea, button {
  width: 100%;
  margin: 5px 0;
  padding: 8px;
}
button {
  background: #4CAF50;
  color: white;
  border: none;
  cursor: pointer;
}
button:hover {
  background: #45a049;
}
.post {
  border: 1px solid #ccc;
  padding: 10px;
  margin-top: 10px;
}
</style>
</head>
<body>

<h1>Admin Panel</h1>

<div class="box" id="registerBox">
  <h2>Admin account maken</h2>
  <input id="regUser" placeholder="Gebruikersnaam">
  <input id="regPass" type="password" placeholder="Wachtwoord">
  <button onclick="register()">Account maken</button>
</div>

<div class="box" id="loginBox">
  <h2>Admin login</h2>
  <input id="logUser" placeholder="Gebruikersnaam">
  <input id="logPass" type="password" placeholder="Wachtwoord">
  <button onclick="login()">Login</button>
</div>

<div class="box" id="dashboard" style="display:none;">
  <h2>Dashboard</h2>

  <h3>Post maken</h3>
  <input id="postTitle" placeholder="Titel">
  <textarea id="postText" placeholder="Post tekst"></textarea>
  <button onclick="addPost()">Post opslaan</button>

  <h3>Posts</h3>
  <div id="posts"></div>
</div>

<script>
let loggedIn = false;

function register() {
  localStorage.setItem("adminUser", regUser.value);
  localStorage.setItem("adminPass", regPass.value);
  alert("Admin account gemaakt!");
}

function login() {
  if (
    logUser.value === localStorage.getItem("adminUser") &&
    logPass.value === localStorage.getItem("adminPass")
  ) {
    loggedIn = true;
    loginBox.style.display = "none";
    registerBox.style.display = "none";
    dashboard.style.display = "block";
    loadPosts();
  } else {
    alert("Foute login!");
  }
}

function addPost() {
  let posts = JSON.parse(localStorage.getItem("posts") || "[]");
  posts.push({ title: postTitle.value, text: postText.value });
  localStorage.setItem("posts", JSON.stringify(posts));
  postTitle.value = "";
  postText.value = "";
  loadPosts();
}

function loadPosts() {
  let posts = JSON.parse(localStorage.getItem("posts") || "[]");
  postsDiv = document.getElementById("posts");
  postsDiv.innerHTML = "";

  posts.forEach((post, i) => {
    postsDiv.innerHTML += `
      <div class="post">
        <input value="${post.title}" onchange="editPost(${i}, 'title', this.value)">
        <textarea onchange="editPost(${i}, 'text', this.value)">${post.text}</textarea>
      </div>
    `;
  });
}

function editPost(index, key, value) {
  let posts = JSON.parse(localStorage.getItem("posts"));
  posts[index][key] = value;
  localStorage.setItem("posts", JSON.stringify(posts));
}
</script>

</body>
</html>
